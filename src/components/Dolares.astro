---
import Dolar from "./Dolar.astro"
const response = await fetch('https://dolarapi.com/v1/dolares');
const data = await response.json();

const dolaresMostrables = ["Blue", "Contado con liquidaciÃ³n", "Bolsa", "Cripto", "Tarjeta", "Oficial"];
const filteredDolares = data.filter(item => dolaresMostrables.includes(item.nombre));

---
<div class="bg-white shadow-sm rounded-lg border-gray-300 my-4 p-4 text-gray dark:bg-gray-900 flex flex-col">
    {
        filteredDolares.map((item, index) => (
            (item.compra + item.venta) / 2 > 800 ?
            <Dolar name={item.nombre} cotizacion={(item.compra + item.venta) / 2} isLastItem={index === filteredDolares.length - 1}/> :
            null
        ))
    }
</div>
